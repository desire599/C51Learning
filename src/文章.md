```c++ {class=line-numbers}
    keyPort = 0x0f;          //1、对矩阵键盘所接的8个引脚，其中4行写1，对其他4列写0
    scan1 = keyPort;         //2、读取此时的键盘状态
    if (scan1 != 0x0f)       //如果键盘不等于前面赋值，则表示有按键按下
    {
        delay(1000);       //消除按键抖动
        scan1 = keyPort;   //再次读取键盘状态，如果第一行的第一个s0按键按下，则scan1=00001110
        if (scan1 != 0x0f) //再次判断如果键盘状态改变，则表示有按键按下。
        {
            keyPort = 0xf0;          //3、对行列进行反转赋值，其中行写0，列写1
            scan2 = keyPort;         //4、由于s0按键按下，连接其的第1列引脚会被拉低为0，变成scan2=11100000
            keyCode = scan1 | scan2; //5、将两次扫描的值进行或操作，得到键盘值的扫描码，以便和键码表比选
```